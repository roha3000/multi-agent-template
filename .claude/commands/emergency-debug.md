# Emergency Debug - Crisis Response and Rapid Issue Resolution

Execute emergency debugging and crisis response protocols for critical issues.

## Usage
`/emergency-debug "critical issue description"`

## Process
Rapid response protocol for critical bugs, security issues, or system failures.

EMERGENCY RESPONSE COORDINATOR (Claude Opus 4): Coordinate crisis response for {critical_issue}:

### Emergency Assessment:

1. **Issue Classification**
   - Severity level (Critical/High/Medium/Low)
   - Impact scope (Users/Systems/Data/Business)
   - Urgency timeline (Immediate/Hours/Days)
   - Security implications (Yes/No/Unknown)

2. **Immediate Triage**
   - System availability status
   - Data integrity verification
   - Security breach assessment
   - User impact evaluation

### Emergency Response Protocol:

#### CRITICAL (System Down/Security Breach):
- **Response Time**: Immediate (< 15 minutes)
- **Team Assembly**: All available agents
- **Communication**: Stakeholder alert within 30 minutes
- **Resolution Target**: < 4 hours

#### HIGH (Significant Impact):
- **Response Time**: < 1 hour
- **Team Assembly**: Core debugging team
- **Communication**: Stakeholder update within 2 hours
- **Resolution Target**: < 24 hours

#### MEDIUM (Moderate Impact):
- **Response Time**: < 4 hours
- **Team Assembly**: Assigned debugging agent
- **Communication**: Regular update cycle
- **Resolution Target**: < 72 hours

### Rapid Debugging Workflow:

SENIOR DEVELOPER (Claude Sonnet 4): Execute immediate debugging:

#### Phase 1: Immediate Stabilization (0-30 minutes)
1. **System Stabilization**
   - Stop the bleeding: prevent further damage
   - Isolate affected components
   - Implement temporary workarounds
   - Preserve evidence and logs

2. **Impact Containment**
   - Identify scope of impact
   - Protect unaffected systems
   - Prevent issue propagation
   - Maintain system availability

#### Phase 2: Root Cause Analysis (30-90 minutes)
1. **Evidence Collection**
   - Gather all relevant logs and metrics
   - Capture system state and configuration
   - Document user reports and symptoms
   - Collect performance and error data

2. **Hypothesis Testing**
   - Generate potential root cause theories
   - Test hypotheses systematically
   - Eliminate unlikely causes
   - Focus on most probable causes

#### Phase 3: Solution Implementation (90-240 minutes)
1. **Solution Development**
   - Develop targeted fix for root cause
   - Create comprehensive test plan
   - Prepare rollback strategy
   - Document implementation steps

2. **Solution Validation**
   - Test fix in isolated environment
   - Validate against original issue
   - Verify no new issues introduced
   - Confirm performance impact

### Specialized Emergency Agents:

SECURITY INCIDENT RESPONDER: Handle security-related emergencies:
- **Threat Assessment**: Evaluate security implications
- **Containment**: Isolate compromised systems
- **Forensics**: Preserve evidence and audit trails
- **Recovery**: Restore secure system state

PERFORMANCE CRISIS MANAGER: Handle performance emergencies:
- **Performance Analysis**: Identify performance bottlenecks
- **Capacity Assessment**: Evaluate system capacity limits
- **Optimization**: Implement immediate performance fixes
- **Monitoring**: Establish enhanced monitoring

DATA RECOVERY SPECIALIST: Handle data-related emergencies:
- **Data Assessment**: Evaluate data integrity and availability
- **Recovery Planning**: Plan data recovery procedures
- **Backup Validation**: Verify backup integrity and currency
- **Restoration**: Execute data recovery operations

### Emergency Communication Protocol:

#### Stakeholder Notification Template:
```
Subject: [EMERGENCY] Critical Issue - {Brief Description}

Severity: {Critical/High/Medium}
Impact: {User/System/Data impact description}
Timeline: {Discovery time and current status}
Response: {Actions taken and next steps}
ETA: {Estimated resolution time}

Next Update: {Scheduled update time}
Contact: {Emergency contact information}
```

#### Status Update Template:
```
Subject: [UPDATE] Emergency Issue Status - {Brief Description}

Status: {In Progress/Investigating/Resolved}
Progress: {Actions completed and current focus}
Findings: {Root cause analysis results}
Next Steps: {Planned actions and timeline}
Risks: {Identified risks and mitigation}

Next Update: {Scheduled update time}
```

### Post-Emergency Activities:

#### Immediate Post-Resolution (0-4 hours):
- [ ] Confirm full system restoration
- [ ] Validate all functionality
- [ ] Monitor for recurrence
- [ ] Communicate resolution to stakeholders

#### Short-term Follow-up (4-24 hours):
- [ ] Conduct preliminary post-mortem
- [ ] Document lessons learned
- [ ] Identify process improvements
- [ ] Update monitoring and alerting

#### Long-term Improvements (1-7 days):
- [ ] Comprehensive post-mortem analysis
- [ ] Implement preventive measures
- [ ] Update emergency procedures
- [ ] Conduct team retrospective

### Emergency Escalation Matrix:

#### Technical Escalation:
1. **Level 1**: Senior Developer (Claude Sonnet)
2. **Level 2**: System Architect (Claude Opus)  
3. **Level 3**: External Technical Expert
4. **Level 4**: Vendor/Platform Support

#### Management Escalation:
1. **Level 1**: Project Lead/Manager
2. **Level 2**: Department Head
3. **Level 3**: Executive Leadership
4. **Level 4**: External Crisis Management

### Emergency Toolkit:

#### Debugging Commands:
```bash
# System health check
./scripts/health-check.sh --emergency

# Log analysis
./scripts/analyze-logs.sh --since "1 hour ago" --critical

# Performance monitoring
./scripts/performance-monitor.sh --realtime --alerts

# Security scan
./scripts/security-scan.sh --emergency --report-critical
```

#### Emergency Scripts:
- **Rollback**: `./emergency/rollback.sh --to-last-known-good`
- **Isolation**: `./emergency/isolate-component.sh {component}`
- **Monitoring**: `./emergency/enhanced-monitoring.sh --enable`
- **Communication**: `./emergency/notify-stakeholders.sh {severity}`

### Success Criteria:
- Issue resolved within target timeline
- No data loss or corruption
- System stability restored
- Security maintained
- Stakeholders informed and satisfied
- Lessons learned documented
- Preventive measures implemented

Emergency debugging requires rapid decision-making, clear communication, and systematic problem-solving under pressure.